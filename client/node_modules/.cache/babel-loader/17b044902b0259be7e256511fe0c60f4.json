{"ast":null,"code":"import _classCallCheck from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/src/pages/sort.js\";\nimport React, { Component } from \"react\"; // import CheckboxSidebar from \"../components/CheckboxSidebar/CheckboxSidebar\";\n\nimport API from \"../utils/API\";\nimport { Grid, Header, Segment, Dimmer, Loader, Dropdown, Menu, Checkbox, Icon, Table } from \"semantic-ui-react\";\nimport Winecard from \"../components/WineCard\";\nimport SearchWines from \"../components/SearchWines\";\n\nvar Wines =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Wines, _Component);\n\n  function Wines() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Wines);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Wines)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      wines: [],\n      list: [],\n      test: [],\n      isLoading: false\n    };\n\n    _this.loadWines = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      API.getWines().then(function (res) {\n        _this.setState({\n          wines: res.data,\n          list: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleDropdown = function (event, _ref) {\n      var value = _ref.value;\n\n      _this.setState({\n        list: value\n      });\n\n      console.log(value);\n      console.log(\"working?\");\n    };\n\n    return _this;\n  }\n\n  _createClass(Wines, [{\n    key: \"componentDidMount\",\n    //onload we get all the wine and producer data\n    value: function componentDidMount() {\n      this.loadWines();\n    }\n  }, {\n    key: \"render\",\n    //   handleFilterChange = event => {\n    //     // console.log('event.target', event.target);\n    //     if (event.target.checked) {\n    //       //define the selected filter\n    //       const selectedFilter = event.target.getAttribute(\"data-filter\");\n    //       const filterArray = this.state.filters[selectedFilter];\n    //       filterArray.push(event.target.value);\n    //       //the bug seems to come from set state, we're accidentally getting rid of all the other arrays\n    //       //we will need to use the previous state\n    //       let oldFilters = this.state.filters\n    //       oldFilters[selectedFilter] = filterArray\n    //       this.setState({\n    //         filters: oldFilters\n    //       })\n    //     } else {\n    //       const filterArray = this.state.filters[event.target.getAttribute(\"data-Filter\")].filter(elem => elem !== event.target.value);\n    //       this.setState({\n    //         filters: {\n    //           ...this.state.filters,\n    //           [event.target.getAttribute(\"data-Filter\")]: filterArray\n    //         }\n    //       })\n    //     }\n    //   }\n    //   handleClick = (e, titleProps) => {\n    //     const { index } = titleProps\n    //     const { activeIndex } = this.state\n    //     const newIndex = activeIndex === index ? -1 : index\n    //     this.setState({ activeIndex: newIndex })\n    //   }\n    value: function render() {\n      var options = [{\n        key: 'France',\n        text: 'France',\n        value: 'France'\n      }, {\n        key: 'Spain',\n        text: 'Spain',\n        value: 'Spain'\n      }, {\n        key: 'Portugal',\n        text: 'Portugal',\n        value: 'Portugal'\n      }, {\n        key: 'Greece',\n        text: 'Greece',\n        value: 'Greece'\n      }, {\n        key: 'Germany',\n        text: 'Germany',\n        value: 'Germany'\n      }, {\n        key: 'Austria',\n        text: 'Austria',\n        value: 'Austria'\n      }];\n      var wineType = [{\n        key: 'Rosé',\n        text: 'Rosé',\n        value: 'Rosé'\n      }, {\n        key: 'White',\n        text: 'White',\n        value: 'White'\n      }, {\n        key: 'Red',\n        text: 'Red',\n        value: 'Red'\n      }, {\n        key: 'Sparkling',\n        text: 'Sparkling',\n        value: 'Sparkling'\n      }, {\n        key: 'Dessert',\n        text: 'Dessert',\n        value: 'Dessert'\n      }];\n      var farm = [{\n        key: 'Sustainable',\n        text: 'Sustainable',\n        value: 'Sustainable'\n      }, {\n        key: 'Organic',\n        text: 'Organic',\n        value: 'Organic'\n      }, {\n        key: 'Certo',\n        text: 'Certified Organic',\n        value: 'Certo'\n      }, {\n        key: 'Bio',\n        text: 'Bio-dynamic',\n        value: 'Bio'\n      }, {\n        key: 'CertB',\n        text: 'Certified Bio-dynamic',\n        value: 'CertB'\n      }, {\n        key: 'HEV',\n        text: 'HEV',\n        value: 'HEV'\n      }]; // const mainStyle = { marginLeft: \"250px\" }\n\n      var wineAreaStyle = {\n        minHeight: \"100vh\"\n      };\n      var countries = [\"Germany\", \"France\", \"Austria\", \"Spain\", \"Portugal\", \"Greece\"];\n      var colors = [\"Rosé\", \"White\", \"Red\", \"Sparkling\", \"Dessert\"];\n      var female = [\"Female Winemaker\"];\n      var regions = this.state.regionNames;\n      var farming = [\"Sustainable\", \"Organic\", \"Certified Organic\", \"Bio-dynamic\", \"Certified Bio-dynamic\", \"HEV\"];\n      var filterElements = [{\n        filterType: \"countries\",\n        elements: countries\n      }, {\n        filterType: \"colors\",\n        elements: colors\n      }, {\n        filterType: \"regions\",\n        elements: regions\n      }, {\n        filterType: \"farming\",\n        elements: farming\n      }, {\n        filterType: \"female\",\n        elements: female\n      }]; // Function sorts each country by the 'Order' Column, because it is not necessarily alphabetical.\n\n      function compare(a, b) {\n        var numA = a.Order;\n        var numB = b.Order;\n        var comparison = 0;\n\n        if (numA > numB) {\n          comparison = 1;\n        } else if (numA < numB) {\n          comparison = -1;\n        }\n\n        return comparison;\n      }\n\n      var wineList = this.state.wines; // console.log(\"preWinelist\", wineList)\n      //this is a hacky way to access the wine data field given that each word is\n      //slightly different than the actual keyword\n      // const wineFieldAdjuster = { \"countries\": \"Country\", \"regions\": \"Region\", \"colors\": \"Color\", \"farming\": \"Farming_practices\", \"female\": \"Female_Winemaker\" }\n      // // filter by each keyword if the filter is selected\n      // for (let keyword of [\"countries\", \"colors\", \"regions\", \"farming\", \"female\"]) {\n      //   wineList = wineList.filter(wine => {\n      //     return (\n      //       (this.state.filters[keyword].length === 0) ||\n      //       this.state.filters[keyword].includes(wine[wineFieldAdjuster[keyword]])\n      //     )\n      //   })\n      // }\n\n      wineList = wineList.sort(compare);\n      return React.createElement(Grid, {\n        style: {\n          marginTop: '30px'\n        },\n        columns: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        width: 3,\n        style: {\n          marginTop: '40px',\n          marginBottom: '40px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(SearchWines, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(Dropdown, {\n        onAddItem: this.handleDropdown,\n        placeholder: \"Countries\",\n        fluid: true,\n        multiple: true,\n        selection: true,\n        options: options,\n        style: {\n          marginTop: '20px',\n          marginBottom: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(Dropdown, {\n        placeholder: \"Type / Color\",\n        fluid: true,\n        multiple: true,\n        selection: true,\n        options: wineType,\n        style: {\n          marginBottom: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(Dropdown, {\n        placeholder: \"Sustainability\",\n        fluid: true,\n        multiple: true,\n        selection: true,\n        options: farm,\n        style: {\n          marginBottom: '20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(Grid.Column, {\n        width: 12,\n        style: wineAreaStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        centered: true,\n        style: {\n          marginTop: '80px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Table.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Table.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Table.HeaderCell, {\n        singleLine: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Country - Region\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Producer\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Wine\"), React.createElement(Table.HeaderCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Color\"), React.createElement(Table.HeaderCell, {\n        singleLine: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Farming\"))), wineList.map(function (wine) {\n        return React.createElement(Table.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(Table.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(Header, {\n          as: \"h5\",\n          textAlign: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, wine.Country, \" - \", wine.Region)), React.createElement(Table.Cell, {\n          singleLine: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/producerdetails/\" + wine.Producer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, wine.Producer)), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/details/\" + wine._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, wine.Wine)), React.createElement(Table.Cell, {\n          textAlign: \"left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196\n          },\n          __self: this\n        }, wine.Color), React.createElement(Table.Cell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, (wine.Farming_practices === \"Organic\" || wine.Farming_practices === \"Certified Organic\") && React.createElement(Icon, {\n          name: \"leaf\",\n          size: \"small\",\n          color: \"green\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }), (wine.Farming_practices === \"Bio-dynamic\" || wine.Farming_practices === \"Certified Bio-dynamic\") && React.createElement(Icon, {\n          name: \"moon\",\n          size: \"small\",\n          color: \"blue\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }), wine.Farming_practices === \"HEV\" && React.createElement(Icon, {\n          name: \"sun\",\n          size: \"small\",\n          color: \"yellow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }), wine.Farming_practices)));\n      })), \") : (\", React.createElement(Header, {\n        as: \"h3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, this.state.isLoading ? React.createElement(Dimmer, {\n        active: true,\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Loading... \")) : \"No wines meet your criteria\"), \")}\")));\n    }\n  }]);\n\n  return Wines;\n}(Component);\n\nexport default Wines;","map":{"version":3,"sources":["/Users/elainecadman/Desktop/myHomeworks/wwclone/client/src/pages/sort.js"],"names":["React","Component","API","Grid","Header","Segment","Dimmer","Loader","Dropdown","Menu","Checkbox","Icon","Table","Winecard","SearchWines","Wines","state","wines","list","test","isLoading","loadWines","setState","getWines","then","res","data","catch","err","console","log","handleDropdown","event","value","options","key","text","wineType","farm","wineAreaStyle","minHeight","countries","colors","female","regions","regionNames","farming","filterElements","filterType","elements","compare","a","b","numA","Order","numB","comparison","wineList","sort","marginTop","marginBottom","map","wine","Country","Region","Producer","_id","Wine","Color","Farming_practices"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n// import CheckboxSidebar from \"../components/CheckboxSidebar/CheckboxSidebar\";\nimport API from \"../utils/API\";\nimport { Grid, Header, Segment, Dimmer, Loader, Dropdown, Menu, Checkbox, Icon, Table} from \"semantic-ui-react\";\nimport Winecard from \"../components/WineCard\"\nimport SearchWines from \"../components/SearchWines\"\n\nclass Wines extends Component {\n  state = {\n    wines: [],\n    list: [],\n    test: [],\n    isLoading: false\n  };\n  //onload we get all the wine and producer data\n\n  componentDidMount() {\n    this.loadWines();\n  }\n  loadWines = () => {\n    this.setState({\n      isLoading: true\n    })\n    API.getWines()\n      .then(res => {\n        this.setState({ wines: res.data, list: res.data })     \n      })\n      .catch(err => console.log(err));\n  };\n\n  handleDropdown = (event, {value}) => {\n   this.setState({ list: value})\n   console.log(value)\n   console.log(\"working?\")\n  }\n//   handleFilterChange = event => {\n//     // console.log('event.target', event.target);\n//     if (event.target.checked) {\n//       //define the selected filter\n//       const selectedFilter = event.target.getAttribute(\"data-filter\");\n//       const filterArray = this.state.filters[selectedFilter];\n//       filterArray.push(event.target.value);\n//       //the bug seems to come from set state, we're accidentally getting rid of all the other arrays\n//       //we will need to use the previous state\n//       let oldFilters = this.state.filters\n//       oldFilters[selectedFilter] = filterArray\n//       this.setState({\n//         filters: oldFilters\n//       })\n//     } else {\n//       const filterArray = this.state.filters[event.target.getAttribute(\"data-Filter\")].filter(elem => elem !== event.target.value);\n//       this.setState({\n//         filters: {\n//           ...this.state.filters,\n//           [event.target.getAttribute(\"data-Filter\")]: filterArray\n//         }\n//       })\n//     }\n//   }\n\n//   handleClick = (e, titleProps) => {\n//     const { index } = titleProps\n//     const { activeIndex } = this.state\n//     const newIndex = activeIndex === index ? -1 : index\n//     this.setState({ activeIndex: newIndex })\n//   }\n\n  render() {\n    const options = [\n        { key: 'France', text: 'France', value: 'France' },\n        { key: 'Spain', text: 'Spain', value: 'Spain'},\n        { key: 'Portugal', text: 'Portugal', value: 'Portugal' },\n        { key: 'Greece', text: 'Greece', value: 'Greece' },\n        { key: 'Germany', text: 'Germany', value: 'Germany' },\n        { key: 'Austria', text: 'Austria', value: 'Austria' }\n      ]\n      const wineType = [\n        { key: 'Rosé', text: 'Rosé', value: 'Rosé' },\n        { key: 'White', text: 'White', value: 'White' },\n        { key: 'Red', text: 'Red', value: 'Red' },\n        { key: 'Sparkling', text: 'Sparkling', value: 'Sparkling' },\n        { key: 'Dessert', text: 'Dessert', value: 'Dessert' }\n      ]\n\n      const farm = [\n        { key: 'Sustainable', text: 'Sustainable', value: 'Sustainable'  },\n        { key: 'Organic', text: 'Organic', value: 'Organic' },\n        { key: 'Certo', text: 'Certified Organic', value: 'Certo' },\n        { key: 'Bio', text: 'Bio-dynamic', value: 'Bio' },\n        { key: 'CertB', text: 'Certified Bio-dynamic', value: 'CertB' },\n        { key: 'HEV', text: 'HEV', value: 'HEV' }\n      ]\n    // const mainStyle = { marginLeft: \"250px\" }\n    const wineAreaStyle= {minHeight:\"100vh\"};\n    const countries = [\"Germany\", \"France\", \"Austria\", \"Spain\", \"Portugal\", \"Greece\"]\n    const colors = [\"Rosé\", \"White\", \"Red\", \"Sparkling\", \"Dessert\"]\n    const female = [\"Female Winemaker\"]\n    const regions = this.state.regionNames;\n    const farming = [\"Sustainable\", \"Organic\", \"Certified Organic\", \"Bio-dynamic\", \"Certified Bio-dynamic\", \"HEV\"];\n\n    const filterElements = [{\n      filterType: \"countries\",\n      elements: countries\n    }, {\n      filterType: \"colors\",\n      elements: colors\n    }, {\n      filterType: \"regions\",\n      elements: regions\n    }, \n    {\n      filterType: \"farming\",\n      elements: farming\n    }, {\n      filterType: \"female\",\n      elements: female\n    }]\n\n    // Function sorts each country by the 'Order' Column, because it is not necessarily alphabetical.\n function compare(a,b){\n  const numA = a.Order;\n  const numB = b.Order;\n\n  let comparison = 0;\n  if(numA > numB){\n    comparison = 1;\n  } else if (numA < numB){\n    comparison = -1\n  }\n  return comparison\n}\n  \n    let wineList = this.state.wines\n    // console.log(\"preWinelist\", wineList)\n    //this is a hacky way to access the wine data field given that each word is\n    //slightly different than the actual keyword\n    // const wineFieldAdjuster = { \"countries\": \"Country\", \"regions\": \"Region\", \"colors\": \"Color\", \"farming\": \"Farming_practices\", \"female\": \"Female_Winemaker\" }\n    // // filter by each keyword if the filter is selected\n    // for (let keyword of [\"countries\", \"colors\", \"regions\", \"farming\", \"female\"]) {\n    //   wineList = wineList.filter(wine => {\n    //     return (\n    //       (this.state.filters[keyword].length === 0) ||\n    //       this.state.filters[keyword].includes(wine[wineFieldAdjuster[keyword]])\n    //     )\n    //   })\n    // }\n    wineList = wineList.sort(compare);\n\n    return (\n      <Grid style={{marginTop: '30px'}} columns={2}>\n        <Grid.Column width={3} style={{marginTop: '40px', marginBottom: '40px'}}>\n        <SearchWines />\n        {/* <CheckboxSidebar checkableArrays={filterElements} handleFilterChange={this.handleFilterChange} /> */}\n        \n    \n  <Dropdown onAddItem={this.handleDropdown} placeholder='Countries' fluid multiple selection options={options}style={{marginTop: '20px', marginBottom: '20px'}} />\n  <Dropdown placeholder='Type / Color' fluid multiple selection options={wineType} style={{ marginBottom: '20px'}} />\n  <Dropdown placeholder='Sustainability' fluid multiple selection options={farm} style={{ marginBottom: '20px'}} />\n\n  \n        </Grid.Column>\n   <Grid.Column width={12} style={wineAreaStyle}>\n      <Grid centered style={{marginTop: '80px'}}>\n      <Table>\n<Table.Header>\n   <Table.Row>\n     <Table.HeaderCell singleLine>Country - Region</Table.HeaderCell>\n     <Table.HeaderCell>Producer</Table.HeaderCell>\n     <Table.HeaderCell>Wine</Table.HeaderCell>\n     <Table.HeaderCell>Color</Table.HeaderCell>\n     <Table.HeaderCell singleLine>Farming</Table.HeaderCell>\n   </Table.Row>\n </Table.Header>\n{wineList.map(wine => (\n\n\n <Table.Body>\n   <Table.Row>\n     <Table.Cell>\n       <Header as='h5' textAlign='left'>\n         {wine.Country} - {wine.Region}\n       </Header>\n     </Table.Cell>\n     \n     <Table.Cell singleLine>\n     <Link to={\"/producerdetails/\" + wine.Producer} >\n       {wine.Producer}\n       </Link>\n       </Table.Cell>\n     \n     <Table.Cell>\n     <Link to={\"/details/\" + wine._id} >\n       {wine.Wine}\n       </Link>\n     </Table.Cell>\n     <Table.Cell textAlign='left'>\n       {wine.Color}\n       \n     </Table.Cell>\n     <Table.Cell>\n     { ((wine.Farming_practices === \"Organic\") || (wine.Farming_practices === \"Certified Organic\" )) && <Icon name='leaf' size='small' color='green'/>}\n     { ((wine.Farming_practices === \"Bio-dynamic\") || (wine.Farming_practices === \"Certified Bio-dynamic\" )) && <Icon name='moon' size='small' color='blue'/>}\n  { wine.Farming_practices === \"HEV\" && <Icon name='sun' size='small' color='yellow'/>}\n     {wine.Farming_practices}\n     </Table.Cell>\n   </Table.Row>\n\n </Table.Body>\n    \n                    ))}\n</Table>      \n            ) : (\n                <Header as='h3'>{this.state.isLoading ? \n           \n                  <Dimmer active inverted>\n                    <Loader inverted>Loading... </Loader>\n                  </Dimmer>\n                : \"No wines meet your criteria\"}</Header>\n              )}\n\n      </Grid>\n      </Grid.Column>\n      </Grid>\n\n  )\n            }\n            }\nexport default Wines;\n"]},"metadata":{},"sourceType":"module"}