{"ast":null,"code":"import _defineProperty from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/src/pages/login.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Button, Form, Grid, Header, Segment } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../components/login/AuthService';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleFormSubmit = _this.handleFormSubmit.bind(_assertThisInitialized(_this));\n    _this.decode = _this.decode.bind(_assertThisInitialized(_this));\n    _this.Auth = new AuthService();\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      // console.log('this login', this);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '475px',\n          marginBottom: '300px'\n        },\n        verticalAlign: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(Header, {\n        as: \"h3\",\n        textAlign: \"center\",\n        style: {\n          marginBottom: '30px',\n          marginTop: '190px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, \"Please enter the password to view this content.\"), React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        raised: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        style: {\n          width: '250px'\n        },\n        fluid: true,\n        icon: \"lock\",\n        type: \"password\",\n        name: \"username\",\n        iconPosition: \"left\",\n        placeholder: \"password\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: \"seeAllWinesBtn\",\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"seeAllWinesText\",\n        fluid: true,\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Login\")))), React.createElement(Header, {\n        as: \"h5\",\n        textAlign: \"center\",\n        style: {\n          marginTop: '50px',\n          marginBottom: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"This section is for clients only. To gain access, contact your sales rep or the order desk at orders@winewise.biz.\"), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \" Back to Home\")))));\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value)); // console.log(this);\n    }\n  }, {\n    key: \"handleFormSubmit\",\n    value: function handleFormSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.Auth.login(this.state.username, this.state.password).then(function (res) {\n        // console.log('referrer', document.referrer);\n        // const redirRoute = document.referrer.split('://')[1].split('/');\n        // console.log(\"route:\" , redirRoute);\n        var newLocation = sessionStorage.getItem('referrer');\n        sessionStorage.removeItem('referrer');\n\n        _this2.props.history.replace(newLocation); //window.history.back();\n\n      }).catch(function (err) {\n        alert(err);\n      });\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(e) {\n      e.preventDefault();\n      this.Auth.loggedIn();\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/elainecadman/Desktop/myHomeworks/wwclone/client/src/pages/login.js"],"names":["React","Component","Fragment","Button","Form","Grid","Header","Segment","Link","AuthService","Login","handleChange","bind","handleFormSubmit","decode","Auth","height","marginBottom","maxWidth","marginTop","width","e","setState","target","name","value","preventDefault","login","state","username","password","then","res","newLocation","sessionStorage","getItem","removeItem","props","history","replace","catch","err","alert","loggedIn"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Button, Form, Grid, Header, Segment } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../components/login/AuthService';\n\nclass Login extends Component {\n    constructor() {\n        super();\n        this.handleChange = this.handleChange.bind(this);\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n        this.decode = this.decode.bind(this);\n        this.Auth = new AuthService();\n    }\n    render() {\n        // console.log('this login', this);\n\n        return (\n            <Fragment>\n                <Grid textAlign='center' style={{ height: '475px', marginBottom: '300px' }} verticalAlign='middle'>\n                    <Grid.Column style={{ maxWidth: 450}}>\n                        <Header as='h3' textAlign='center' style={{ marginBottom: '30px', marginTop: '190px'}}>\n                            {/* <Image src='/logo.png' />  */}\n                            Please enter the password to view this content.\n                        </Header>\n                        <Form size='large' onSubmit={this.handleFormSubmit}>\n                            <Segment raised>\n                                <Form.Input style={{width:'250px'}} fluid icon='lock' type='password' name=\"username\" iconPosition='left' placeholder='password' onChange={this.handleChange} />\n                                {/* <Form.Input\n                                    fluid\n                                    name=\"password\"\n                                    icon='lock'\n                                    iconPosition='left'\n                                    placeholder='Password'\n                                    type='password'\n                                    onChange={this.handleChange}\n                                /> */}\n\n                                <Button className=\"seeAllWinesBtn\" size='small'>\n                                    <p className=\"seeAllWinesText\" fluid size='large'>\n                                        Login\n                            </p></Button>\n                            </Segment>\n                        </Form>\n                        <Header as='h5' textAlign='center' style={{ marginTop: '50px', marginBottom: '100px'}}>\n                            This section is for clients only. To gain access, contact your sales rep or the order desk at orders@winewise.biz.\n                        </Header>\n                        <Link to='/'>\n                        <Button> Back to Home\n                            </Button>\n                            </Link>\n                    </Grid.Column>\n                </Grid>\n            </Fragment>\n        );\n    }\n\n    handleChange(e) {\n        this.setState(\n            {\n                [e.target.name]: e.target.value\n            }\n        )\n        // console.log(this);\n    }\n\n    handleFormSubmit(e) {\n        e.preventDefault();\n   \n        this.Auth.login(this.state.username,this.state.password)\n            .then(res =>{\n                \n                // console.log('referrer', document.referrer);\n                // const redirRoute = document.referrer.split('://')[1].split('/');\n                // console.log(\"route:\" , redirRoute);\n                const newLocation = sessionStorage.getItem('referrer');\n                sessionStorage.removeItem('referrer');\n            this.props.history.replace(newLocation);\n            //window.history.back();\n\n            })\n            .catch(err => {\n                alert(err);\n            })\n    }\n\n    decode(e) {\n        e.preventDefault();\n        this.Auth.loggedIn()\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}