{"ast":null,"code":"import _defineProperty from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/elainecadman/Desktop/myHomeworks/wwclone/client/src/components/login/Authbox.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Button, Form, Grid, Header, Segment } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport AuthService from './AuthService';\n\nvar Authbox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Authbox, _Component);\n\n  function Authbox() {\n    var _this;\n\n    _classCallCheck(this, Authbox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Authbox).call(this));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleFormSubmit = _this.handleFormSubmit.bind(_assertThisInitialized(_this));\n    _this.decode = _this.decode.bind(_assertThisInitialized(_this));\n    _this.Auth = new AuthService();\n    return _this;\n  }\n\n  _createClass(Authbox, [{\n    key: \"render\",\n    value: function render() {\n      // console.log('this login', this);\n      return React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        raised: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, React.createElement(Form.Input, {\n        style: {\n          width: '250px',\n          marginBottom: '30px'\n        },\n        fluid: true,\n        icon: \"lock\",\n        type: \"password\",\n        name: \"username\",\n        iconPosition: \"left\",\n        placeholder: \"password\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }), React.createElement(Button, {\n        className: \"seeAllWinesBtn\",\n        size: \"small\",\n        style: {\n          marginTop: '50px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"seeAllWinesText\",\n        fluid: true,\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Login\"))));\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value)); // console.log(this);\n    }\n  }, {\n    key: \"handleFormSubmit\",\n    value: function handleFormSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.Auth.login(this.state.username, this.state.password).then(function (res) {\n        // console.log('referrer', document.referrer);\n        // const redirRoute = document.referrer.split('://')[1].split('/');\n        // console.log(\"route:\" , redirRoute);\n        var newLocation = sessionStorage.getItem('referrer');\n        sessionStorage.removeItem('referrer');\n\n        _this2.props.history.replace(newLocation);\n\n        window.history.back();\n      }).catch(function (err) {\n        alert(err);\n      });\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(e) {\n      e.preventDefault();\n      this.Auth.loggedIn();\n    }\n  }]);\n\n  return Authbox;\n}(Component);\n\nexport default Authbox;","map":{"version":3,"sources":["/Users/elainecadman/Desktop/myHomeworks/wwclone/client/src/components/login/Authbox.js"],"names":["React","Component","Fragment","Button","Form","Grid","Header","Segment","Link","AuthService","Authbox","handleChange","bind","handleFormSubmit","decode","Auth","width","marginBottom","marginTop","e","setState","target","name","value","preventDefault","login","state","username","password","then","res","newLocation","sessionStorage","getItem","removeItem","props","history","replace","window","back","catch","err","alert","loggedIn"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BC,MAA7B,EAAqCC,OAArC,QAAoD,mBAApD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAEMC,O;;;;;AACF,qBAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB;AACA,UAAKE,MAAL,GAAc,MAAKA,MAAL,CAAYF,IAAZ,+BAAd;AACA,UAAKG,IAAL,GAAY,IAAIN,WAAJ,EAAZ;AALU;AAMb;;;;6BACQ;AACL;AAEA,aAEgB,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AAAmB,QAAA,QAAQ,EAAE,KAAKI,gBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,OAAD;AAAS,QAAA,MAAM,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,KAAK,EAAE;AAACG,UAAAA,KAAK,EAAC,OAAP;AAAgBC,UAAAA,YAAY,EAAC;AAA7B,SAAnB;AAAyD,QAAA,KAAK,MAA9D;AAA+D,QAAA,IAAI,EAAC,MAApE;AAA2E,QAAA,IAAI,EAAC,UAAhF;AAA2F,QAAA,IAAI,EAAC,UAAhG;AAA2G,QAAA,YAAY,EAAC,MAAxH;AAA+H,QAAA,WAAW,EAAC,UAA3I;AAAsJ,QAAA,QAAQ,EAAE,KAAKN,YAArK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAYI,oBAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAmC,QAAA,IAAI,EAAC,OAAxC;AAAgD,QAAA,KAAK,EAAE;AAACO,UAAAA,SAAS,EAAE;AAAZ,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,iBAAb;AAA+B,QAAA,KAAK,MAApC;AAAqC,QAAA,IAAI,EAAC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,CAZJ,CADJ,CAFhB;AAuBH;;;iCAEYC,C,EAAG;AACZ,WAAKC,QAAL,qBAESD,CAAC,CAACE,MAAF,CAASC,IAFlB,EAEyBH,CAAC,CAACE,MAAF,CAASE,KAFlC,GADY,CAMZ;AACH;;;qCAEgBJ,C,EAAG;AAAA;;AAChBA,MAAAA,CAAC,CAACK,cAAF;AAEA,WAAKT,IAAL,CAAUU,KAAV,CAAgB,KAAKC,KAAL,CAAWC,QAA3B,EAAoC,KAAKD,KAAL,CAAWE,QAA/C,EACKC,IADL,CACU,UAAAC,GAAG,EAAG;AAER;AACA;AACA;AACA,YAAMC,WAAW,GAAGC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAApB;AACAD,QAAAA,cAAc,CAACE,UAAf,CAA0B,UAA1B;;AACJ,QAAA,MAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2BN,WAA3B;;AACAO,QAAAA,MAAM,CAACF,OAAP,CAAeG,IAAf;AAEC,OAXL,EAYKC,KAZL,CAYW,UAAAC,GAAG,EAAI;AACVC,QAAAA,KAAK,CAACD,GAAD,CAAL;AACH,OAdL;AAeH;;;2BAEMtB,C,EAAG;AACNA,MAAAA,CAAC,CAACK,cAAF;AACA,WAAKT,IAAL,CAAU4B,QAAV;AACH;;;;EApEiB1C,S;;AAuEtB,eAAeS,OAAf","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Button, Form, Grid, Header, Segment } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport AuthService from './AuthService';\n\nclass Authbox extends Component {\n    constructor() {\n        super();\n        this.handleChange = this.handleChange.bind(this);\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n        this.decode = this.decode.bind(this);\n        this.Auth = new AuthService();\n    }\n    render() {\n        // console.log('this login', this);\n\n        return (\n       \n                        <Form size='large' onSubmit={this.handleFormSubmit}>\n                            <Segment raised>\n                                <Form.Input style={{width:'250px', marginBottom:'30px'}} fluid icon='lock' type='password' name=\"username\" iconPosition='left' placeholder='password' onChange={this.handleChange} />\n                                {/* <Form.Input\n                                    fluid\n                                    name=\"password\"\n                                    icon='lock'\n                                    iconPosition='left'\n                                    placeholder='Password'\n                                    type='password'\n                                    onChange={this.handleChange}\n                                /> */}\n\n                                <Button className=\"seeAllWinesBtn\" size='small' style={{marginTop: '50px'}}>\n                                    <p className=\"seeAllWinesText\" fluid size='large'>\n                                        Login\n                            </p></Button>\n                            </Segment>\n                        </Form>\n            \n        );\n    }\n\n    handleChange(e) {\n        this.setState(\n            {\n                [e.target.name]: e.target.value\n            }\n        )\n        // console.log(this);\n    }\n\n    handleFormSubmit(e) {\n        e.preventDefault();\n   \n        this.Auth.login(this.state.username,this.state.password)\n            .then(res =>{\n                \n                // console.log('referrer', document.referrer);\n                // const redirRoute = document.referrer.split('://')[1].split('/');\n                // console.log(\"route:\" , redirRoute);\n                const newLocation = sessionStorage.getItem('referrer');\n                sessionStorage.removeItem('referrer');\n            this.props.history.replace(newLocation);\n            window.history.back();\n\n            })\n            .catch(err => {\n                alert(err);\n            })\n    }\n\n    decode(e) {\n        e.preventDefault();\n        this.Auth.loggedIn()\n    }\n}\n\nexport default Authbox;"]},"metadata":{},"sourceType":"module"}