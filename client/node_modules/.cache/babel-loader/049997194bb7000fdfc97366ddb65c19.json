{"ast":null,"code":"import _classCallCheck from \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/elainecadman/Desktop/myHomeworks/WineWise/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Responsive } from \"semantic-ui-react\";\nimport Home from \"./pages/home\";\nimport AllWines from \"./pages/allwines\";\nimport Admin from \"./pages/admin\";\nimport Producers from \"./pages/producers\";\nimport AboutUs from \"./pages/aboutus\";\nimport Login from \"./pages/login\";\nimport AuthService from './components/login/AuthService'; // import Onewine from \"./pages/onewine\";\n// import Wrapper from \"./components/Wrapper\";\n\nimport DesktopContainer from \"./components/common/DesktopContainer/DesktopContainer\";\nimport MobileContainer from \"./components/common/MobileContainer/MobileContainer\";\nimport Footer from \"./components/common/Footer/Footer\";\nimport OneWine from \"./pages/onewine\";\nimport OneProducer from \"./pages/oneproducer\";\nimport OtherHeading from \"./components/Homepage/HomeHeading/OtherHeading\";\nimport ErrorPage from \"./pages/errorpage\";\nimport Hiram from \"./pages/hiram\";\nimport Greenwood from \"./pages/greenwood\";\nimport \"./App.css\";\nimport AuthExample from \"./pages/auth\";\nvar fakeAuth = {\n  isAuthenticated: false,\n  authenticate: function authenticate(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100); // fake async\n  },\n  signout: function signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\nvar AuthButton = withRouter(function (_ref) {\n  var history = _ref.history;\n  return fakeAuth.isAuthenticated ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Welcome!\", \" \", React.createElement(\"button\", {\n    onClick: function onClick() {\n      fakeAuth.signout(function () {\n        return history.push(\"/\");\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Sign out\")) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"You are not logged in.\");\n});\n\nfunction PrivateRoute(_ref2) {\n  var Component = _ref2.component,\n      rest = _objectWithoutProperties(_ref2, [\"component\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      return fakeAuth.isAuthenticated ? React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })) : React.createElement(Redirect, {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: props.location\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }));\n}\n\nfunction Public() {\n  return React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Public\");\n}\n\nfunction Protected() {\n  return React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Protected\");\n}\n\nvar getWidth = function getWidth() {\n  var isSSR = typeof window === 'undefined';\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth;\n};\n\nvar ResponsiveContainer = function ResponsiveContainer(_ref3) {\n  var children = _ref3.children;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(DesktopContainer, {\n    getWidth: getWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, children), React.createElement(MobileContainer, {\n    getWidth: getWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, children));\n};\n\nvar authService = new AuthService();\n\nvar PrivateRoute = function PrivateRoute(_ref4) {\n  var Component = _ref4.component,\n      rest = _objectWithoutProperties(_ref4, [\"component\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      // sessionStorage.setItem('referrer', window.location.pathname);\n      return authService.loggedIn() ? React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      })) : React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }));\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      wines: [],\n      redirectToReferrer: false\n    };\n\n    _this.login = function () {\n      fakeAuth.authenticate(function () {\n        _this.setState({\n          redirectToReferrer: true\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    // componentWillReceiveProps(nextProps) {\n    //   if (nextProps.location !== this.props.location) {\n    //     this.setState({ prevPath: this.props.location })\n    //   }\n    // }\n    value: function render() {\n      // console.log('is logged in', authService.loggedIn());\n      var _ref5 = this.props.location.state || {\n        from: {\n          pathname: \"/\"\n        }\n      },\n          from = _ref5.from;\n\n      var redirectToReferrer = this.state.redirectToReferrer;\n      if (redirectToReferrer) return React.createElement(Redirect, {\n        to: from,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      });\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(ResponsiveContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(OtherHeading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(PageSwitch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"You must log in to view the page at \", from.pathname), React.createElement(\"button\", {\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Log in\"), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar PageSwitch = function PageSwitch(props) {\n  return React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/allwines\",\n    component: AllWines,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/admin\",\n    component: Admin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/details/:id\",\n    component: OneWine,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/producers\",\n    component: Producers,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/producerdetails/:id\",\n    component: OneProducer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/aboutus\",\n    component: AboutUs,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/hiram\",\n    component: Hiram,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/greenwood\",\n    component: Greenwood,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"*\",\n    component: ErrorPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/auth\",\n    component: AuthExample,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/elainecadman/Desktop/myHomeworks/WineWise/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Redirect","Responsive","Home","AllWines","Admin","Producers","AboutUs","Login","AuthService","DesktopContainer","MobileContainer","Footer","OneWine","OneProducer","OtherHeading","ErrorPage","Hiram","Greenwood","AuthExample","fakeAuth","isAuthenticated","authenticate","cb","setTimeout","signout","AuthButton","withRouter","history","push","PrivateRoute","component","rest","props","pathname","state","from","location","Public","Protected","getWidth","isSSR","window","onlyTablet","minWidth","innerWidth","ResponsiveContainer","children","authService","loggedIn","App","wines","redirectToReferrer","login","setState","PageSwitch"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,EAAiDC,QAAjD,QAAiE,kBAAjE;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,WAAP,MAAwB,gCAAxB,C,CAEA;AACA;;AAEA,OAAOC,gBAAP,MAA6B,uDAA7B;AACA,OAAOC,eAAP,MAA4B,qDAA5B;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,YAAP,MAAyB,gDAAzB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAO,WAAP;AACA,OAAOC,WAAP,MAAwB,cAAxB;AAIA,IAAMC,QAAQ,GAAG;AACfC,EAAAA,eAAe,EAAE,KADF;AAEfC,EAAAA,YAFe,wBAEFC,EAFE,EAEE;AACf,SAAKF,eAAL,GAAuB,IAAvB;AACAG,IAAAA,UAAU,CAACD,EAAD,EAAK,GAAL,CAAV,CAFe,CAEM;AACtB,GALc;AAMfE,EAAAA,OANe,mBAMPF,EANO,EAMH;AACV,SAAKF,eAAL,GAAuB,KAAvB;AACAG,IAAAA,UAAU,CAACD,EAAD,EAAK,GAAL,CAAV;AACD;AATc,CAAjB;AAYA,IAAMG,UAAU,GAAGC,UAAU,CAC3B;AAAA,MAAGC,OAAH,QAAGA,OAAH;AAAA,SACER,QAAQ,CAACC,eAAT,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACW,GADX,EAEE;AACE,IAAA,OAAO,EAAE,mBAAM;AACbD,MAAAA,QAAQ,CAACK,OAAT,CAAiB;AAAA,eAAMG,OAAO,CAACC,IAAR,CAAa,GAAb,CAAN;AAAA,OAAjB;AACD,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADF,GAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAbJ;AAAA,CAD2B,CAA7B;;AAkBA,SAASC,YAAT,QAAyD;AAAA,MAAtBlC,SAAsB,SAAjCmC,SAAiC;AAAA,MAARC,IAAQ;;AACvD,SACE,oBAAC,KAAD,oBACMA,IADN;AAEE,IAAA,MAAM,EAAE,gBAAAC,KAAK;AAAA,aACXb,QAAQ,CAACC,eAAT,GACE,oBAAC,SAAD,oBAAeY,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,GAGE,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE;AACFC,UAAAA,QAAQ,EAAE,QADR;AAEFC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAEH,KAAK,CAACI;AAAd;AAFL,SADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJS;AAAA,KAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAiBD;;AAED,SAASC,MAAT,GAAkB;AAChB,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AAED,SAASC,SAAT,GAAqB;AACnB,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACD;;AAQD,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,MAAMC,KAAK,GAAG,OAAOC,MAAP,KAAkB,WAAhC;AAEA,SAAOD,KAAK,GAAGvC,UAAU,CAACyC,UAAX,CAAsBC,QAAzB,GAAoCF,MAAM,CAACG,UAAvD;AACD,CAJD;;AAMA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB;AAAA,MAAGC,QAAH,SAAGA,QAAH;AAAA,SAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAkB,IAAA,QAAQ,EAAEP,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuCO,QAAvC,CADF,EAEE,oBAAC,eAAD;AAAiB,IAAA,QAAQ,EAAEP,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCO,QAAtC,CAFF,CAD0B;AAAA,CAA5B;;AAOA,IAAMC,WAAW,GAAG,IAAIvC,WAAJ,EAApB;;AAEA,IAAMqB,YAAY,GAAG;AAAA,MAAclC,SAAd,SAAGmC,SAAH;AAAA,MAA4BC,IAA5B;;AAAA,SACnB,oBAAC,KAAD,oBAAWA,IAAX;AAAiB,IAAA,MAAM,EAAE,gBAACC,KAAD,EAAW;AAClC;AACA,aACAe,WAAW,CAACC,QAAZ,KACI,oBAAC,SAAD,oBAAehB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,GAEI,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ;AAIE,KANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADmB;AAAA,CAArB;;IAWMiB,G;;;;;;;;;;;;;;;;;UAEJf,K,GAAQ;AACNgB,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,kBAAkB,EAAE;AAFd,K;;UAKRC,K,GAAQ,YAAM;AACZjC,MAAAA,QAAQ,CAACE,YAAT,CAAsB,YAAM;AAC1B,cAAKgC,QAAL,CAAc;AAAEF,UAAAA,kBAAkB,EAAE;AAAtB,SAAd;AACD,OAFD;AAGD,K;;;;;;;AACD;AACA;AACA;AACA;AACA;6BAES;AACP;AADO,kBAGQ,KAAKnB,KAAL,CAAWI,QAAX,CAAoBF,KAApB,IAA6B;AAAEC,QAAAA,IAAI,EAAE;AAAEF,UAAAA,QAAQ,EAAE;AAAZ;AAAR,OAHrC;AAAA,UAGDE,IAHC,SAGDA,IAHC;;AAAA,UAIDgB,kBAJC,GAIsB,KAAKjB,KAJ3B,CAIDiB,kBAJC;AAMP,UAAIA,kBAAJ,EAAwB,OAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAEhB,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACxB,aACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAAwCA,IAAI,CAACF,QAA7C,CAHF,EAIF;AAAQ,QAAA,OAAO,EAAE,KAAKmB,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJE,EAKE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CADJ;AAWD;;;;EApCezD,S;;AAuClB,IAAM2D,UAAU,GAAG,SAAbA,UAAa,CAAAtB,KAAK,EAAI;AAC1B,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAE9B,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,WAAZ;AAAwB,IAAA,SAAS,EAAEC,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,QAAnB;AAA4B,IAAA,SAAS,EAAEC,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EAIE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,cAAZ;AAA2B,IAAA,SAAS,EAAEQ,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,YAAZ;AAAyB,IAAA,SAAS,EAAEP,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,sBAAZ;AAAmC,IAAA,SAAS,EAAEQ,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,SAAS,EAAEP,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAEU,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,YAAZ;AAAyB,IAAA,SAAS,EAAEC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAUE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAEV,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAWE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,GAAZ;AAAgB,IAAA,SAAS,EAAEQ,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,EAYE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,SAAS,EAAEG,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF;AAgBD,CAjBD;;AAoBA,eAAe+B,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { Responsive } from \"semantic-ui-react\";\nimport Home from \"./pages/home\";\nimport AllWines from \"./pages/allwines\";\nimport Admin from \"./pages/admin\";\nimport Producers from \"./pages/producers\";\nimport AboutUs from \"./pages/aboutus\";\nimport Login from \"./pages/login\";\nimport AuthService from './components/login/AuthService';\n\n// import Onewine from \"./pages/onewine\";\n// import Wrapper from \"./components/Wrapper\";\n\nimport DesktopContainer from \"./components/common/DesktopContainer/DesktopContainer\";\nimport MobileContainer from \"./components/common/MobileContainer/MobileContainer\";\nimport Footer from \"./components/common/Footer/Footer\";\nimport OneWine from \"./pages/onewine\";\nimport OneProducer from \"./pages/oneproducer\";\nimport OtherHeading from \"./components/Homepage/HomeHeading/OtherHeading\";\nimport ErrorPage from \"./pages/errorpage\";\nimport Hiram from \"./pages/hiram\";\nimport Greenwood from \"./pages/greenwood\";\nimport \"./App.css\";\nimport AuthExample from \"./pages/auth\";\n\n\n\nconst fakeAuth = {\n  isAuthenticated: false,\n  authenticate(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100); // fake async\n  },\n  signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n};\n\nconst AuthButton = withRouter(\n  ({ history }) =>\n    fakeAuth.isAuthenticated ? (\n      <p>\n        Welcome!{\" \"}\n        <button\n          onClick={() => {\n            fakeAuth.signout(() => history.push(\"/\"));\n          }}\n        >\n          Sign out\n        </button>\n      </p>\n    ) : (\n      <p>You are not logged in.</p>\n    )\n);\n\nfunction PrivateRoute({ component: Component, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        fakeAuth.isAuthenticated ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nfunction Public() {\n  return <h3>Public</h3>;\n}\n\nfunction Protected() {\n  return <h3>Protected</h3>;\n}\n\n\n\n\n\n\n\nconst getWidth = () => {\n  const isSSR = typeof window === 'undefined'\n\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth\n}\n\nconst ResponsiveContainer = ({ children }) => (\n  <div>\n    <DesktopContainer getWidth={getWidth}>{children}</DesktopContainer>\n    <MobileContainer getWidth={getWidth}>{children}</MobileContainer>\n  </div>\n)\n\nconst authService = new AuthService();\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => {\n    // sessionStorage.setItem('referrer', window.location.pathname);\n    return (\n    authService.loggedIn()\n      ? <Component {...props} />\n      : <Redirect to='/login' />\n    )}\n  } />\n)\n\nclass App extends Component {\n\n  state = {\n    wines: [],\n    redirectToReferrer: false \n  };\n\n  login = () => {\n    fakeAuth.authenticate(() => {\n      this.setState({ redirectToReferrer: true });\n    });\n  };\n  // componentWillReceiveProps(nextProps) {\n  //   if (nextProps.location !== this.props.location) {\n  //     this.setState({ prevPath: this.props.location })\n  //   }\n  // }\n\n  render() {\n    // console.log('is logged in', authService.loggedIn());\n\n    let { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    let { redirectToReferrer } = this.state;\n\n    if (redirectToReferrer) return <Redirect to={from} />;\n    return (\n        <Router>\n          <ResponsiveContainer>\n            <OtherHeading />\n            <PageSwitch/>\n            <p>You must log in to view the page at {from.pathname}</p>\n        <button onClick={this.login}>Log in</button>\n            <Footer />\n          </ResponsiveContainer>\n        </Router>\n    );\n  }\n}\n\nconst PageSwitch = props => {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/allwines\" component={AllWines} />\n      <PrivateRoute path=\"/admin\" component={Admin} />\n      <Route path=\"/details/:id\" component={OneWine} />\n      <Route path=\"/producers\" component={Producers} />\n      <Route path=\"/producerdetails/:id\" component={OneProducer} />\n      <Route path=\"/aboutus\" component={AboutUs} />\n      <Route path=\"/hiram\" component={Hiram} />\n      <Route path=\"/greenwood\" component={Greenwood} />\n      <Route path=\"/login\" component={Login}/>\n      <Route path=\"*\" component={ErrorPage} />\n      <Route path=\"/auth\" component={AuthExample} />\n    </Switch>\n  )\n}\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}